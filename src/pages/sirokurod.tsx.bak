import type { NextPage } from "next";
import { useRouter } from "next/router";
import Head from "next/head";

import { useQueryPostsNow } from "..//hooks/useQueryPostsNow";
import { useDownloadUrl } from "../hooks/useDownloadUrl";
import { Appdrawer } from "../components/Appdrawer";
import { Footer } from "../components/Footer";

import useStore from "../store";

import styles from "./sirokurod.module.css";

const Sirokurod: NextPage = () => {
  const session = useStore((state) => state.session);
  const editedPost = useStore((state) => state.editedPost);
  const { fullUrl: postImgUrl_rtn, isLoading } = useDownloadUrl(
    editedPost.image_url,
    "posts"
  );
  const { data: posts } = useQueryPostsNow();
  console.log(posts);

  const router = useRouter();

  return (
    <>
      <Head>
        <title>sirokuroつける</title>
      </Head>
      <header></header>
      <Appdrawer />
      <div className={styles.container}>
        <p>{router.query}</p>
      </div>
      {!session && <p>ログインしてください。</p>}
      <Footer />
    </>
  );
};

export default Sirokurod;
